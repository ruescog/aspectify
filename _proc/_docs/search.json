[
  {
    "objectID": "index_0.html",
    "href": "index_0.html",
    "title": "aspectify",
    "section": "",
    "text": "order: 2\n\n\nAt this moment, we want to modify the randint method to log a message.\n\nADVICE: Trying to be as clean as possible, we strongly recomend you to create a new aspects.py file and add the Aspects to this file.\n\nFirst of all, we need to import to the Aspects file (aspects.py from now on) the libraries and modules that will be used. In this case, random.\n\nfrom aspectify.aop import Aspect\nfrom random import Random\n\nAdditionally, we need to define the get_classes method. This method is always needed in order to get all the available classes to add Advices.\n\ndef get_classes():\n    return [element for element in list(globals().items())]\n\nAs a first AOP example, we can define our first Aspect. We call it log_aspect, and it will send a message when the function is being called.\nTo do so, we add the before Advice defined below. Here you can use defined functions or lambda.\n\nlog_aspect = Aspect()\nlog_aspect.set_before(lambda *a, **k: print(\"catched!\"))\n\nNow, we create an Advice to define which methods will show this message. The methods are named as follows:\nmodule.Class.method_name\nSo, as we want to only change the random.Random.randint method, we use its fullname.\n\nNOTE: if we wanted to select several methods at once, we could have used a regular expression. For example, .*\\.Random\\..* will catch all the methods within a Random class, regardless of their modules.\n\n\nlog_aspect.create_pointcut(get_classes(), \"random.Random.randint\")\n\nCaptured method: random.Random.randint\n\n\ncreate_pointcut method has a default parameter called logging set to true in order to show the captured methods. You can deactivate it if you wish.\nAfter the PointCut is created, every method catched (random.Random.randint) will be modified by the defined PointCuts.\nFrom now on, when randint is used, we will see the “catched!” message.\n\nr = Random()\nr.randint(1, 10)\n\ncatched!\n\n\n7\n\n\nThis simple example shows how to add logging functionality to the defined code, even when the code is a black box (a library not developed by the user that is using Aspectify).\nIn the next example we will explain why you should be strictly accurate using the create_pointcut patter syntax."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "aspectify",
    "section": "",
    "text": "Aspect Oriented Programming is a programming paradigm that allows the user to separate some cross-cutting content from the main code, such as the logging or a database connection.\nAs it may be known, other programming languages has some functionallity (implemented or plugged in) to use this paradigm as an additional abstract layer to the core application. AspectJ (used in Java), can sound familiar to the reader.\nIn order to bring this amazing and powerful functionality to Python (which, in addition, will allow us to add it dynamically instead of using a weaver –as it is done in Java–), we have defined Aspectify, a Python library to manage AOP."
  },
  {
    "objectID": "index.html#background-concepts",
    "href": "index.html#background-concepts",
    "title": "aspectify",
    "section": "Background concepts",
    "text": "Background concepts\nBefore introducing the library, it is important to define some concepts used in AOP. Those are: - Aspect (what): a cross-cutting concept. In fact, an Aspect will group some functionalies. These, which will modify the natural behaviour of a method, are called Advices. - PointCut (when): a fragment of code where the Aspect is defined. Can be multiple PointCuts for each Aspect (indeed, it will). - Advice (when and what to do): The code fragment to execute when the PointCut occurs and the moment when the new behaviuor must occur. Originally, only three moments were defined (before, around –instead of– and after), but nowadays new moments are defined, such as “after throwing an exception” (after_throwing) or “after NOT throwing an exception” (after_returning)."
  },
  {
    "objectID": "index.html#installation",
    "href": "index.html#installation",
    "title": "aspectify",
    "section": "Installation",
    "text": "Installation\nIn order to install the library, it is only needed to execute the pypi comand that follows:\npip install aspectify\n\nADVICE: You should use a virtual environment to install the packages associated with your proyect."
  },
  {
    "objectID": "index.html#why-do-we-need-aspectify",
    "href": "index.html#why-do-we-need-aspectify",
    "title": "aspectify",
    "section": "Why do we need Aspectify",
    "text": "Why do we need Aspectify\nOnce the background is defined and the library is installed, we can start to create the AOP layer to our projects.\n\nThe core project\nIn order to use the library, we need a project. For example, we will use the random library for Python.\n\nfrom random import Random\n\nNow, we can use it to generate some integers.\n\nr = Random()\nr.randint(5, 10)\n\n9\n\n\nAs you can see in its documentation, randint (called with parameters a and b) can generate the b value itself (it is a closed range [5, 10]).\nIf we want to change this behaviour to the normal random functions behaviour (the range is closed-opened [5, 10)), you will need to redefine it. Furthermore, if other functions or library use this method, they will not use yours.\nHow can we solve it? Using AOP.\nDuring this introduction, we have seen the background concepts and how to install the Aspectify library. In the next section we will explain how to use it with a simple example."
  },
  {
    "objectID": "aop.html",
    "href": "aop.html",
    "title": "aop",
    "section": "",
    "text": "source\n\nis_detectable\n\n is_detectable (name, obj)\n\nDetermines when an object is potentially detectable to add an aspect to it.\n\n\n\n\nDetails\n\n\n\n\nname\nThe name of the object.\n\n\nobj\nThe builded object (potentially class).\n\n\n\n\nsource\n\n\nadvice\n\n advice (moment, todo)\n\nAdd an advice to a particular function.\n\n\n\n\n\n\n\n\nDetails\n\n\n\n\nmoment\nOne of ‘before’, ‘around’, ‘after_returning’, ‘after_throwing’ or ‘after’. See the documentation for more information.\n\n\ntodo\nWhat to do at the selected moment.\n\n\n\n\nsource\n\n\nAspect\n\n Aspect ()\n\nDefines a complete aspect."
  }
]